global:
    config_version: 2
input:
    type: file
    path: /opt/logs/helium.log
    readall: false
grok:
    patterns_dir: ./patterns
metrics:
    - type: gauge
      name: helium_level
      help: The helium level value as stored in the Bruker logs
      path: /opt/logs/helium.log
      # MICS TS4.1 log w/ N2 level
      match: '%{GREEDYDATA:timestamp} : helium level =\s*%{NUMBER:helium_level} %, nitrogen level =\s*%{NUMBER:nitrogen_level} %, field =\s*%{NUMBER:field}'
      value: '{{.helium_level}}'
      cumulative: false
server:
    port: 9144