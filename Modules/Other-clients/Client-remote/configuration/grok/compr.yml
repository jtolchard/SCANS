global:
    config_version: 2
input:
    type: file
    path: /opt/logs/log.txt
    fail_on_missing_logfile: false
grok:
    patterns_dir: ./patterns
metrics:
    - type: gauge
      name: output_pressure
      help: The output pressure of the compressor to the He rack
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.output_pressure}}'
      cumulative: false
#
    - type: gauge
      name: input_pressure
      help: The input pressure of the compressor from the balloon
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.input_pressure}}'
      cumulative: false      
#
    - type: gauge
      name: balloon_level
      help: The precentage balloon level
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.balloon_level}}'
      cumulative: false    
#
    - type: gauge
      name: cooling_air_temp
      help: The temperature of the cooling air received by the compressor
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.cooling_air_temp}}'
      cumulative: false    
#
    - type: gauge
      name: last_stage_temp
      help: The temperature of final compressor stage
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.last_stage_temp}}'
      cumulative: false
#
    - type: gauge
      name: stage_1_temp
      help: The temperature of first compressor stage
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.stage_1_temp}}'
      cumulative: false
#
    - type: gauge
      name: stage_2_temp
      help: The temperature of second compressor stage
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.stage_2_temp}}'
      cumulative: false 
#
    - type: gauge
      name: stage_3_temp
      help: The temperature of third compressor stage
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.stage_3_temp}}'
      cumulative: false         
#
    - type: gauge
      name: stage_4_temp
      help: The temperature of fourth compressor stage
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.stage_4_temp}}'
      cumulative: false          
#
    - type: gauge
      name: total_operating_hours
      help: The total operating hours of the compressor
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.total_operating_hours}}'
      cumulative: false        
#
    - type: gauge
      name: messages_0
      help: The code for the first messages block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.messages_0}}'
      cumulative: false      
#
    - type: gauge
      name: messages_1
      help: The code for the second messages block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.messages_1}}'
      cumulative: false    
#
    - type: gauge
      name: alarms_0
      help: The code for the first alarms block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.alarms_0}}'
      cumulative: false   
#
    - type: gauge
      name: alarms_1
      help: The code for the second alarms block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.alarms_1}}'
      cumulative: false   
#
    - type: gauge
      name: alarms_2
      help: The code for the third alarms block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.alarms_2}}'
      cumulative: false   
#
    - type: gauge
      name: alarms_3
      help: The code for the fourth alarms block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.alarms_3}}'
      cumulative: false   
#
    - type: gauge
      name: alarms_4
      help: The code for the fifth alarms block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.alarms_4}}'
      cumulative: false   
#
    - type: gauge
      name: alarms_5
      help: The code for the sixth alarms block
      path: /opt/logs/log.txt
      match: '%{NUMBER:output_pressure}, %{NUMBER:input_pressure}, %{NUMBER:balloon_level}, %{NUMBER:cooling_air_temp}, %{NUMBER:last_stage_temp}, %{NUMBER:stage_1_temp}, %{NUMBER:stage_2_temp}, %{NUMBER:stage_3_temp}, %{NUMBER:stage_4_temp}, %{NUMBER:total_operating_hours}, %{NUMBER:messages_0}, %{NUMBER:messages_1}, %{NUMBER:alarms_0}, %{NUMBER:alarms_1}, %{NUMBER:alarms_2}, %{NUMBER:alarms_3}, %{NUMBER:alarms_4}, %{NUMBER:alarms_5}'
      value: '{{.alarms_5}}'
      cumulative: false   
#
server:
    port: 9151
