/*! For license information please see module.js.LICENSE.txt */
define(["react","@grafana/ui","emotion","lodash","@grafana/data","react-dom"],(function(e,t,n,r,o,a){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=21)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findInArray=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.isFunction=function(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"==typeof e&&!isNaN(e)},t.int=function(e){return parseInt(e,10)},t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.matchesSelector=f,t.matchesSelectorAndParentsTo=function(e,t,n){var r=e;do{if(f(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1},t.addEvent=function(e,t,n,r){if(!e)return;var o=c({capture:!0},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.removeEvent=function(e,t,n,r){if(!e)return;var o=c({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderTopWidth),t+=(0,o.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderLeftWidth),t+=(0,o.int)(n.borderRightWidth)},t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingTop),t-=(0,o.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingLeft),t-=(0,o.int)(n.paddingRight)},t.offsetXYFromParent=function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-r.left)/n,a=(e.clientY+t.scrollTop-r.top)/n;return{x:o,y:a}},t.createCSSTransform=function(e,t){var n=d(e,t,"px");return u({},(0,a.browserPrefixToKey)("transform",a.default),n)},t.createSVGTransform=function(e,t){return d(e,t,"")},t.getTranslation=d,t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,o.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&p(e.body,"react-draggable-transparent-selection")},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&h(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(e){}},t.addClassName=p,t.removeClassName=h;var o=n(5),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(n,a,l):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(17));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="";function f(e,t){return s||(s=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,o.isFunction)(e[t])}))),!!(0,o.isFunction)(e[s])&&e[s](t)}function d(e,t,n){var r=e.x,o=e.y,a="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var i="".concat("string"==typeof t.x?t.x:t.x+n),l="".concat("string"==typeof t.y?t.y:t.y+n);a="translate(".concat(i,", ").concat(l,")")+a}return a}function p(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function h(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},function(e,t,n){e.exports=n(15)()},function(e,t){e.exports=a},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var l in r)n.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"==typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);var l=a(e);if("string"==typeof i){var c,u=l.ownerDocument,s=u.defaultView;if(!((c="parent"===i?l.parentNode:u.querySelector(i))instanceof s.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var f=s.getComputedStyle(l),d=s.getComputedStyle(c);i={left:-l.offsetLeft+(0,r.int)(d.paddingLeft)+(0,r.int)(f.marginLeft),top:-l.offsetTop+(0,r.int)(d.paddingTop)+(0,r.int)(f.marginTop),right:(0,o.innerWidth)(c)-(0,o.outerWidth)(l)-l.offsetLeft+(0,r.int)(d.paddingRight)-(0,r.int)(f.marginRight),bottom:(0,o.innerHeight)(c)-(0,o.outerHeight)(l)-l.offsetTop+(0,r.int)(d.paddingBottom)-(0,r.int)(f.marginBottom)}}(0,r.isNum)(i.right)&&(t=Math.min(t,i.right));(0,r.isNum)(i.bottom)&&(n=Math.min(n,i.bottom));(0,r.isNum)(i.left)&&(t=Math.max(t,i.left));(0,r.isNum)(i.top)&&(n=Math.max(n,i.top));return[t,n]},t.snapToGrid=function(e,t,n){var r=Math.round(t/e[0])*e[0],o=Math.round(n/e[1])*e[1];return[r,o]},t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.getControlPosition=function(e,t,n){var r="number"==typeof t?(0,o.getTouch)(e,t):null;if("number"==typeof t&&!r)return null;var i=a(n),l=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,o.offsetXYFromParent)(r||e,l,n.props.scale)},t.createCoreData=function(e,t,n){var o=e.state,i=!(0,r.isNum)(o.lastX),l=a(e);return i?{node:l,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:l,deltaX:t-o.lastX,deltaY:n-o.lastY,lastX:o.lastX,lastY:o.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}};var r=n(5),o=n(6);function a(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){void 0}},function(e,t,n){"use strict";var r=n(14),o=r.default,a=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=a},function(e,t,n){var r=E(n(19)),o=n(0),a=o.Children,i=o.cloneElement,l=o.Component,c=o.createElement,u=o.createRef,s=E(n(9)),f=n(20),d=E(f);t.Sortable=d;var p=f.Direction;t.Direction=p;var h=f.DOMRect;t.DOMRect=h;var g=f.GroupOptions;t.GroupOptions=g;var m=f.MoveEvent;t.MoveEvent=m;var v=f.Options;t.Options=v;var b=f.PullResult;t.PullResult=b;var y=f.PutResult;t.PutResult=y;var w=f.SortableEvent;t.SortableEvent=w;var O=f.SortableOptions;t.SortableOptions=O;var S=f.Utils;function E(e){return e&&e.__esModule?e.default:e}function D(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function _(e){e.forEach((function(e){return k(e.element)}))}function T(e){e.forEach((function(e){var t,n,r,o;t=e.parentElement,n=e.element,r=e.oldIndex,o=t.children[r]||null,t.insertBefore(n,o)}))}function I(e,t){var n=A(e),r={parentElement:e.from},o=[];switch(n){case"normal":o=[{element:e.item,newIndex:e.newIndex,oldIndex:e.oldIndex,parentElement:e.from}];break;case"swap":o=[P({element:e.item,oldIndex:e.oldIndex,newIndex:e.newIndex},r),P({element:e.swapItem,oldIndex:e.newIndex,newIndex:e.oldIndex},r)];break;case"multidrag":o=e.oldIndicies.map((function(t,n){return P({element:t.multiDragElement,oldIndex:t.index,newIndex:e.newIndicies[n].index},r)}))}return function(e,t){return e.map((function(e){return P(P({},e),{},{item:t[e.oldIndex]})})).sort((function(e,t){return e.oldIndex-t.oldIndex}))}(o,t)}function M(e,t){var n=D(t);return e.concat().reverse().forEach((function(e){return n.splice(e.oldIndex,1)})),n}function N(e,t,n,r){var o=D(t);return e.forEach((function(e){var t=r&&n&&r(e.item,n);o.splice(e.newIndex,0,t||e.item)})),o}function A(e){return e.oldIndicies&&e.oldIndicies.length>0?"multidrag":e.swapItem?"swap":"normal"}function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Utils=S;var V={dragging:null},G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(f,l);var t,n,o=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var o=W(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=o.call(this,e)).ref=u();var n=e.list.map((function(e){return L(L({},e),{},{chosen:!1,selected:!1})}));return e.setList(n,t.sortable,V),r(!e.plugins,'\nPlugins prop is no longer supported.\nInstead, mount it with "Sortable.mount(new MultiDrag())"\nPlease read the updated README.md at https://github.com/SortableJS/react-sortablejs.\n      '),t}return t=f,(n=[{key:"componentDidMount",value:function(){if(null!==this.ref.current){var e=this.makeOptions();d.create(this.ref.current,e)}}},{key:"render",value:function(){var e=this.props,t=e.tag,n={style:e.style,className:e.className,id:e.id};return c(t&&null!==t?t:"div",L({ref:this.ref},n),this.getChildren())}},{key:"getChildren",value:function(){var e=this.props,t=e.children,n=e.dataIdAttr,r=e.selectedClass,o=void 0===r?"sortable-selected":r,l=e.chosenClass,c=void 0===l?"sortable-chosen":l,u=(e.dragClass,e.fallbackClass,e.ghostClass,e.swapClass,e.filter),f=void 0===u?"sortable-filter":u,d=e.list;if(!t||null==t)return null;var p=n||"data-id";return a.map(t,(function(e,t){var n,r,a=d[t],l=e.props.className,u="string"==typeof f&&z({},f.replace(".",""),!!a.filtered),h=s(l,L((z(n={},o,a.selected),z(n,c,a.chosen),n),u));return i(e,(z(r={},p,e.key),z(r,"className",h),r))}))}},{key:"makeOptions",value:function(){var e,t=this,n=((e=this.props).list,e.setList,e.children,e.tag,e.style,e.className,e.clone,e.onAdd,e.onChange,e.onChoose,e.onClone,e.onEnd,e.onFilter,e.onRemove,e.onSort,e.onStart,e.onUnchoose,e.onUpdate,e.onMove,e.onSpill,e.onSelect,e.onDeselect,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["list","setList","children","tag","style","className","clone","onAdd","onChange","onChoose","onClone","onEnd","onFilter","onRemove","onSort","onStart","onUnchoose","onUpdate","onMove","onSpill","onSelect","onDeselect"]));return["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"].forEach((function(e){return n[e]=t.prepareOnHandlerPropAndDOM(e)})),["onChange","onClone","onFilter","onSort"].forEach((function(e){return n[e]=t.prepareOnHandlerProp(e)})),L(L({},n),{},{onMove:function(e,n){var r=t.props.onMove,o=e.willInsertAfter||-1;if(!r)return o;var a=r(e,n,t.sortable,V);return void 0!==a&&a}})}},{key:"prepareOnHandlerPropAndDOM",value:function(e){var t=this;return function(n){t.callOnHandlerProp(n,e),t[e](n)}}},{key:"prepareOnHandlerProp",value:function(e){var t=this;return function(n){t.callOnHandlerProp(n,e)}}},{key:"callOnHandlerProp",value:function(e,t){var n=this.props[t];n&&n(e,this.sortable,V)}},{key:"onAdd",value:function(e){var t=this.props,n=t.list,r=t.setList,o=t.clone,a=I(e,F(V.dragging.props.list));_(a),r(N(a,n,e,o).map((function(e){return L(L({},e),{},{selected:!1})})),this.sortable,V)}},{key:"onRemove",value:function(e){var t=this,n=this.props,o=n.list,a=n.setList,i=A(e),l=I(e,o);T(l);var c=F(o);if("clone"!==e.pullMode)c=M(l,c);else{var u=l;switch(i){case"multidrag":u=l.map((function(t,n){return L(L({},t),{},{element:e.clones[n]})}));break;case"normal":u=l.map((function(t){return L(L({},t),{},{element:e.clone})}));break;case"swap":default:r(!0,'mode "'.concat(i,'" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "').concat(i,'" plugin'))}_(u),l.forEach((function(n){var r=n.oldIndex,o=t.props.clone(n.item,e);c.splice(r,1,o)}))}a(c=c.map((function(e){return L(L({},e),{},{selected:!1})})),this.sortable,V)}},{key:"onUpdate",value:function(e){var t=this.props,n=t.list,r=t.setList,o=I(e,n);return _(o),T(o),r(function(e,t){return N(e,M(e,t))}(o,n),this.sortable,V)}},{key:"onStart",value:function(){V.dragging=this}},{key:"onEnd",value:function(){V.dragging=null}},{key:"onChoose",value:function(e){var t=this.props,n=t.list;(0,t.setList)(n.map((function(t,n){return n===e.oldIndex?L(L({},t),{},{chosen:!0}):t})),this.sortable,V)}},{key:"onUnchoose",value:function(e){var t=this.props,n=t.list;(0,t.setList)(n.map((function(t,n){return n===e.oldIndex?L(L({},t),{},{chosen:!1}):t})),this.sortable,V)}},{key:"onSpill",value:function(e){var t=this.props,n=t.removeOnSpill,r=t.revertOnSpill;n&&!r&&k(e.item)}},{key:"onSelect",value:function(e){var t=this.props,n=t.list,r=t.setList,o=n.map((function(e){return L(L({},e),{},{selected:!1})}));e.newIndicies.forEach((function(e){var t=e.index;-1!==t&&(o[t].selected=!0)})),r(o,this.sortable,V)}},{key:"onDeselect",value:function(e){var t=this.props,n=t.list,r=t.setList,o=n.map((function(e){return L(L({},e),{},{selected:!1})}));e.newIndicies.forEach((function(e){var t=e.index;-1!==t&&(o[t].selected=!0)})),r(o,this.sortable,V)}},{key:"sortable",get:function(){var e=this.ref.current;if(null===e)return null;var t=Object.keys(e).find((function(e){return e.includes("Sortable")}));return t?e[t]:null}}])&&Y(t.prototype,n),f}();t.ReactSortable=G,z(G,"defaultProps",{clone:function(e){return e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return s.default}}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==h(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=d(n(7)),a=d(n(8)),i=d(n(9)),l=n(6),c=n(10),u=n(5),s=d(n(18)),f=d(n(11));function d(e){return e&&e.__esModule?e:{default:e}}function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(n,e);var t=D(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),j(x(r=t.call(this,e)),"onDragStart",(function(e,t){if((0,f.default)("Draggable: onDragStart: %j",t),!1===r.props.onStart(e,(0,c.createDraggableData)(x(r),t)))return!1;r.setState({dragging:!0,dragged:!0})})),j(x(r),"onDrag",(function(e,t){if(!r.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",t);var n=(0,c.createDraggableData)(x(r),t),o={x:n.x,y:n.y};if(r.props.bounds){var a=o.x,i=o.y;o.x+=r.state.slackX,o.y+=r.state.slackY;var l=v((0,c.getBoundPosition)(x(r),o.x,o.y),2),u=l[0],s=l[1];o.x=u,o.y=s,o.slackX=r.state.slackX+(a-o.x),o.slackY=r.state.slackY+(i-o.y),n.x=o.x,n.y=o.y,n.deltaX=o.x-r.state.x,n.deltaY=o.y-r.state.y}if(!1===r.props.onDrag(e,n))return!1;r.setState(o)})),j(x(r),"onDragStop",(function(e,t){if(!r.state.dragging)return!1;if(!1===r.props.onStop(e,(0,c.createDraggableData)(x(r),t)))return!1;(0,f.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(r.props.position)){var o=r.props.position,a=o.x,i=o.y;n.x=a,n.y=i}r.setState(n)})),r.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:w({},e.position),slackX:0,slackY:0,isElementSVG:!1},e.position&&!e.onDrag&&e.onStop,r}return S(n,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:w({},n)})}}]),S(n,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:a.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),o=t.defaultPosition,a=t.defaultClassName,u=t.defaultClassNameDragging,f=t.defaultClassNameDragged,d=t.position,p=t.positionOffset,h=(t.scale,m(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),v={},b=null,y=!Boolean(d)||this.state.dragging,O=d||o,S={x:(0,c.canDragX)(this)&&y?this.state.x:O.x,y:(0,c.canDragY)(this)&&y?this.state.y:O.y};this.state.isElementSVG?b=(0,l.createSVGTransform)(S,p):v=(0,l.createCSSTransform)(S,p);var E=(0,i.default)(n.props.className||"",a,(j(e={},u,this.state.dragging),j(e,f,this.state.dragged),e));return r.createElement(s.default,g({},h,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(n),{className:E,style:w(w({},n.props.style),v),transform:b}))}}]),n}(r.Component);t.default=k,j(k,"displayName","Draggable"),j(k,"propTypes",w(w({},s.default.propTypes),{},{axis:o.default.oneOf(["both","x","y","none"]),bounds:o.default.oneOfType([o.default.shape({left:o.default.number,right:o.default.number,top:o.default.number,bottom:o.default.number}),o.default.string,o.default.oneOf([!1])]),defaultClassName:o.default.string,defaultClassNameDragging:o.default.string,defaultClassNameDragged:o.default.string,defaultPosition:o.default.shape({x:o.default.number,y:o.default.number}),positionOffset:o.default.shape({x:o.default.oneOfType([o.default.number,o.default.string]),y:o.default.oneOfType([o.default.number,o.default.string])}),position:o.default.shape({x:o.default.number,y:o.default.number}),className:u.dontSetMe,style:u.dontSetMe,transform:u.dontSetMe})),j(k,"defaultProps",w(w({},s.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))},function(e,t,n){"use strict";var r=n(16);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefix=o,t.browserPrefixToKey=a,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0;var r=["Moz","Webkit","O","ms"];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<r.length;n++)if(a(e,r[n])in t)return r[n];return""}function a(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var i=o();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==d(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=s(n(7)),a=s(n(8)),i=n(6),l=n(10),c=n(5),u=s(n(11));function s(e){return e&&e.__esModule?e:{default:e}}function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E={start:"touchstart",move:"touchmove",stop:"touchend"},D={start:"mousedown",move:"mousemove",stop:"mouseup"},C=D,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,n,o,c=b(s);function s(){var e;g(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(w(e=c.call.apply(c,[this].concat(n))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),S(w(e),"mounted",!1),S(w(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof r.defaultView.Node)||e.props.handle&&!(0,i.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,i.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var o=(0,i.getTouchIdentifier)(t);e.setState({touchIdentifier:o});var a=(0,l.getControlPosition)(t,o,w(e));if(null!=a){var c=a.x,s=a.y,f=(0,l.createCoreData)(w(e),c,s);(0,u.default)("DraggableCore: handleDragStart: %j",f),(0,u.default)("calling",e.props.onStart),!1!==e.props.onStart(t,f)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(r),e.setState({dragging:!0,lastX:c,lastY:s}),(0,i.addEvent)(r,C.move,e.handleDrag),(0,i.addEvent)(r,C.stop,e.handleDragStop))}}})),S(w(e),"handleDrag",(function(t){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,w(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var a=r-e.state.lastX,i=o-e.state.lastY,c=p((0,l.snapToGrid)(e.props.grid,a,i),2);if(a=c[0],i=c[1],!a&&!i)return;r=e.state.lastX+a,o=e.state.lastY+i}var s=(0,l.createCoreData)(w(e),r,o);if((0,u.default)("DraggableCore: handleDrag: %j",s),!1!==e.props.onDrag(t,s)&&!1!==e.mounted)e.setState({lastX:r,lastY:o});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(t){var f=document.createEvent("MouseEvents");f.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(f)}}})),S(w(e),"handleDragStop",(function(t){if(e.state.dragging){var n=(0,l.getControlPosition)(t,e.state.touchIdentifier,w(e));if(null!=n){var r=n.x,o=n.y,a=(0,l.createCoreData)(w(e),r,o);if(!1===e.props.onStop(t,a)||!1===e.mounted)return!1;var c=e.findDOMNode();c&&e.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(c.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",a),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),c&&((0,u.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(c.ownerDocument,C.move,e.handleDrag),(0,i.removeEvent)(c.ownerDocument,C.stop,e.handleDragStop))}}})),S(w(e),"onMouseDown",(function(t){return C=D,e.handleDragStart(t)})),S(w(e),"onMouseUp",(function(t){return C=D,e.handleDragStop(t)})),S(w(e),"onTouchStart",(function(t){return C=E,e.handleDragStart(t)})),S(w(e),"onTouchEnd",(function(t){return C=E,e.handleDragStop(t)})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,i.addEvent)(e,E.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,i.removeEvent)(t,D.move,this.handleDrag),(0,i.removeEvent)(t,E.move,this.handleDrag),(0,i.removeEvent)(t,D.stop,this.handleDragStop),(0,i.removeEvent)(t,E.stop,this.handleDragStop),(0,i.removeEvent)(e,E.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){return this.props.nodeRef?this.props.nodeRef.current:a.default.findDOMNode(this)}},{key:"render",value:function(){return r.cloneElement(r.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&m(t.prototype,n),o&&m(t,o),s}(r.Component);t.default=x,S(x,"displayName","DraggableCore"),S(x,"propTypes",{allowAnyClick:o.default.bool,disabled:o.default.bool,enableUserSelectHack:o.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:o.default.arrayOf(o.default.number),handle:o.default.string,cancel:o.default.string,nodeRef:o.default.object,onStart:o.default.func,onDrag:o.default.func,onStop:o.default.func,onMouseDown:o.default.func,scale:o.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),S(x,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},function(e,t,n){"use strict";n.r(t);t.default=function(e,t){if(!e)throw new Error("Invariant failed")}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,"MultiDrag",(function(){return St})),n.d(t,"Sortable",(function(){return He})),n.d(t,"Swap",(function(){return ft}));function f(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var d=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),p=f(/Edge/i),h=f(/firefox/i),g=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),m=f(/iP(ad|od|hone)/i),v=f(/chrome/i)&&f(/android/i),b={capture:!1,passive:!1};function y(e,t,n){e.addEventListener(t,n,!d&&b)}function w(e,t,n){e.removeEventListener(t,n,!d&&b)}function O(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function S(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function E(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&O(e,t):O(e,t))||r&&e===n)return e;if(e===n)break}while(e=S(e))}return null}var D,C=/\s+/g;function x(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(C," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(C," ")}}function P(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||-1!==t.indexOf("webkit")||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function j(e,t){var n="";if("string"==typeof e)n=e;else do{var r=P(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function k(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,a=r.length;if(n)for(;o<a;o++)n(r[o],o);return r}return[]}function _(){var e=document.scrollingElement;return e||document.documentElement}function T(e,t,n,r,o){if(e.getBoundingClientRect||e===window){var a,i,l,c,u,s,f;if(e!==window&&e.parentNode&&e!==_()?(i=(a=e.getBoundingClientRect()).top,l=a.left,c=a.bottom,u=a.right,s=a.height,f=a.width):(i=0,l=0,c=window.innerHeight,u=window.innerWidth,s=window.innerHeight,f=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!d))do{if(o&&o.getBoundingClientRect&&("none"!==P(o,"transform")||n&&"static"!==P(o,"position"))){var p=o.getBoundingClientRect();i-=p.top+parseInt(P(o,"border-top-width")),l-=p.left+parseInt(P(o,"border-left-width")),c=i+a.height,u=l+a.width;break}}while(o=o.parentNode);if(r&&e!==window){var h=j(o||e),g=h&&h.a,m=h&&h.d;h&&(c=(i/=m)+(s/=m),u=(l/=g)+(f/=g))}return{top:i,left:l,bottom:c,right:u,width:f,height:s}}}function I(e,t,n){for(var r=F(e,!0),o=T(e)[t];r;){var a=T(r)[n];if(!("top"===n||"left"===n?o>=a:o<=a))return r;if(r===_())break;r=F(r,!1)}return!1}function M(e,t,n,r){for(var o=0,a=0,i=e.children;a<i.length;){if("none"!==i[a].style.display&&i[a]!==He.ghost&&(r||i[a]!==He.dragged)&&E(i[a],n.draggable,e,!1)){if(o===t)return i[a];o++}a++}return null}function N(e,t){for(var n=e.lastElementChild;n&&(n===He.ghost||"none"===P(n,"display")||t&&!O(n,t));)n=n.previousElementSibling;return n||null}function A(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===He.clone||t&&!O(e,t)||n++;return n}function R(e){var t=0,n=0,r=_();if(e)do{var o=j(e),a=o.a,i=o.d;t+=e.scrollLeft*a,n+=e.scrollTop*i}while(e!==r&&(e=e.parentNode));return[t,n]}function F(e,t){if(!e||!e.getBoundingClientRect)return _();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=P(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return _();if(r||t)return n;r=!0}}}while(n=n.parentNode);return _()}function B(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function X(e,t){return function(){if(!D){var n=arguments,r=this;1===n.length?e.call(r,n[0]):e.apply(r,n),D=setTimeout((function(){D=void 0}),t)}}}function L(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Y(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function U(e,t){P(e,"position","absolute"),P(e,"top",t.top),P(e,"left",t.left),P(e,"width",t.width),P(e,"height",t.height)}function H(e){P(e,"position",""),P(e,"top",""),P(e,"left",""),P(e,"width",""),P(e,"height","")}var W="Sortable"+(new Date).getTime();function z(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==P(e,"display")&&e!==He.ghost){t.push({target:e,rect:T(e)});var n=o({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=j(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var o=!1,a=0;t.forEach((function(e){var t=0,n=e.target,i=n.fromRect,l=T(n),c=n.prevFromRect,u=n.prevToRect,s=e.rect,f=j(n,!0);f&&(l.top-=f.f,l.left-=f.e),n.toRect=l,n.thisAnimationDuration&&B(c,l)&&!B(i,l)&&(s.top-l.top)/(s.left-l.left)==(i.top-l.top)/(i.left-l.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(s,c,u,r.options)),B(l,i)||(n.prevFromRect=i,n.prevToRect=l,t||(t=r.options.animation),r.animate(n,s,l,t)),t&&(o=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),o?e=setTimeout((function(){"function"==typeof n&&n()}),a):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){P(e,"transition",""),P(e,"transform","");var o=j(this.el),a=o&&o.a,i=o&&o.d,l=(t.left-n.left)/(a||1),c=(t.top-n.top)/(i||1);e.animatingX=!!l,e.animatingY=!!c,P(e,"transform","translate3d("+l+"px,"+c+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),P(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),P(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){P(e,"transition",""),P(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),r)}}}}var V=[],G={initializeByDefault:!0},K={mount:function(e){for(var t in G)G.hasOwnProperty(t)&&!(t in e)&&(e[t]=G[t]);V.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),V.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var a=e+"Global";V.forEach((function(r){t[r.pluginName]&&(t[r.pluginName][a]&&t[r.pluginName][a](o({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](o({sortable:t},n)))}))},initializePlugins:function(e,t,n,r){for(var o in V.forEach((function(r){var o=r.pluginName;if(e.options[o]||r.initializeByDefault){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[o]=a,l(n,a.defaults)}})),e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);void 0!==a&&(e.options[o]=a)}},getEventProperties:function(e,t){var n={};return V.forEach((function(r){"function"==typeof r.eventProperties&&l(n,r.eventProperties.call(t[r.pluginName],e))})),n},modifyOption:function(e,t,n){var r;return V.forEach((function(o){e[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[t]&&(r=o.optionListeners[t].call(e[o.pluginName],n))})),r}};function q(e){var t=e.sortable,n=e.rootEl,r=e.name,a=e.targetEl,i=e.cloneEl,l=e.toEl,c=e.fromEl,u=e.oldIndex,s=e.newIndex,f=e.oldDraggableIndex,h=e.newDraggableIndex,g=e.originalEvent,m=e.putSortable,v=e.extraEventProperties;if(t=t||n&&n[W]){var b,y=t.options,w="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||d||p?(b=document.createEvent("Event")).initEvent(r,!0,!0):b=new CustomEvent(r,{bubbles:!0,cancelable:!0}),b.to=l||n,b.from=c||n,b.item=a||n,b.clone=i,b.oldIndex=u,b.newIndex=s,b.oldDraggableIndex=f,b.newDraggableIndex=h,b.originalEvent=g,b.pullMode=m?m.lastPutMode:void 0;var O=o(o({},v),K.getEventProperties(r,t));for(var S in O)b[S]=O[S];n&&n.dispatchEvent(b),y[w]&&y[w].call(t,b)}}var $=["evt"],Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,a=c(n,$);K.pluginEvent.bind(He)(e,t,o({dragEl:Z,parentEl:ee,ghostEl:te,rootEl:ne,nextEl:re,lastDownEl:oe,cloneEl:ae,cloneHidden:ie,dragStarted:ye,putSortable:de,activeSortable:He.active,originalEvent:r,oldIndex:le,oldDraggableIndex:ue,newIndex:ce,newDraggableIndex:se,hideGhostForTarget:Xe,unhideGhostForTarget:Le,cloneNowHidden:function(){ie=!0},cloneNowShown:function(){ie=!1},dispatchSortableEvent:function(e){J({sortable:t,name:e,originalEvent:r})}},a))};function J(e){q(o({putSortable:de,cloneEl:ae,targetEl:Z,rootEl:ne,oldIndex:le,oldDraggableIndex:ue,newIndex:ce,newDraggableIndex:se},e))}var Z,ee,te,ne,re,oe,ae,ie,le,ce,ue,se,fe,de,pe,he,ge,me,ve,be,ye,we,Oe,Se,Ee,De=!1,Ce=!1,xe=[],Pe=!1,je=!1,ke=[],_e=!1,Te=[],Ie="undefined"!=typeof document,Me=m,Ne=p||d?"cssFloat":"float",Ae=Ie&&!v&&!m&&"draggable"in document.createElement("div"),Re=function(){if(Ie){if(d)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Fe=function(e,t){var n=P(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=M(e,0,t),a=M(e,1,t),i=o&&P(o),l=a&&P(a),c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+T(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+T(a).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&i.float&&"none"!==i.float){var s="left"===i.float?"left":"right";return!a||"both"!==l.clear&&l.clear!==s?"horizontal":"vertical"}return o&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||c>=r&&"none"===n[Ne]||a&&"none"===n[Ne]&&c+u>r)?"vertical":"horizontal"},Be=function(e){function t(e,n){return function(r,o,a,i){var l=r.options.group.name&&o.options.group.name&&r.options.group.name===o.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,o,a,i),n)(r,o,a,i);var c=(n?r:o).options.group.name;return!0===e||"string"==typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;r&&"object"==a(r)||(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Xe=function(){!Re&&te&&P(te,"display","none")},Le=function(){!Re&&te&&P(te,"display","")};Ie&&document.addEventListener("click",(function(e){if(Ce)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ce=!1,!1}),!0);var Ye=function(e){if(Z){e=e.touches?e.touches[0]:e;var t=(o=e.clientX,a=e.clientY,xe.some((function(e){var t=e[W].options.emptyInsertThreshold;if(t&&!N(e)){var n=T(e),r=o>=n.left-t&&o<=n.right+t,l=a>=n.top-t&&a<=n.bottom+t;return r&&l?i=e:void 0}})),i);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[W]._onDragOver(n)}}var o,a,i},Ue=function(e){Z&&Z.parentNode[W]._isOutsideThisEl(e.target)};function He(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=l({},t),e[W]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==He.supportPointer&&"PointerEvent"in window&&!g,emptyInsertThreshold:5};for(var r in K.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var o in Be(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&Ae,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?y(e,"pointerdown",this._onTapStart):(y(e,"mousedown",this._onTapStart),y(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(y(e,"dragover",this),y(e,"dragenter",this)),xe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),l(this,z())}function We(e,t,n,r,o,a,i,l){var c,u,s=e[W],f=s.options.onMove;return!window.CustomEvent||d||p?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=o||t,c.relatedRect=a||T(t),c.willInsertAfter=l,c.originalEvent=i,e.dispatchEvent(c),f&&(u=f.call(s,c,i)),u}function ze(e){e.draggable=!1}function Ve(){_e=!1}function Ge(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function Ke(e){return setTimeout(e,0)}function qe(e){return clearTimeout(e)}He.prototype={constructor:He,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(we=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Z):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,a=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(i||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=r.filter;if(function(e){Te.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var r=t[n];r.checked&&Te.push(r)}}(n),!Z&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||r.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!g||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=E(l,r.draggable,n,!1))&&l.animated||oe===l)){if(le=A(l),ue=A(l,r.draggable),"function"==typeof u){if(u.call(this,e,l,this))return J({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:n,fromEl:n}),Q("filter",t,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(r){if(r=E(c,r.trim(),n,!1))return J({sortable:t,rootEl:r,name:"filter",targetEl:l,fromEl:n,toEl:n}),Q("filter",t,{evt:e}),!0}))))return void(o&&e.cancelable&&e.preventDefault());r.handle&&!E(c,r.handle,n,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,t,n){var r,o=this,a=o.el,i=o.options,l=a.ownerDocument;if(n&&!Z&&n.parentNode===a){var c=T(n);if(ne=a,ee=(Z=n).parentNode,re=Z.nextSibling,oe=n,fe=i.group,He.dragged=Z,pe={target:Z,clientX:(t||e).clientX,clientY:(t||e).clientY},ve=pe.clientX-c.left,be=pe.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Z.style["will-change"]="all",r=function(){Q("delayEnded",o,{evt:e}),He.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!h&&o.nativeDraggable&&(Z.draggable=!0),o._triggerDragStart(e,t),J({sortable:o,name:"choose",originalEvent:e}),x(Z,i.chosenClass,!0))},i.ignore.split(",").forEach((function(e){k(Z,e.trim(),ze)})),y(l,"dragover",Ye),y(l,"mousemove",Ye),y(l,"touchmove",Ye),y(l,"mouseup",o._onDrop),y(l,"touchend",o._onDrop),y(l,"touchcancel",o._onDrop),h&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Z.draggable=!0),Q("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(p||d))r();else{if(He.eventCanceled)return void this._onDrop();y(l,"mouseup",o._disableDelayedDrag),y(l,"touchend",o._disableDelayedDrag),y(l,"touchcancel",o._disableDelayedDrag),y(l,"mousemove",o._delayedDragTouchMoveHandler),y(l,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&y(l,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(r,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Z&&ze(Z),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._disableDelayedDrag),w(e,"touchend",this._disableDelayedDrag),w(e,"touchcancel",this._disableDelayedDrag),w(e,"mousemove",this._delayedDragTouchMoveHandler),w(e,"touchmove",this._delayedDragTouchMoveHandler),w(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?y(document,"pointermove",this._onTouchMove):y(document,t?"touchmove":"mousemove",this._onTouchMove):(y(Z,"dragend",this),y(ne,"dragstart",this._onDragStart));try{document.selection?Ke((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(De=!1,ne&&Z){Q("dragStarted",this,{evt:t}),this.nativeDraggable&&y(document,"dragover",Ue);var n=this.options;!e&&x(Z,n.dragClass,!1),x(Z,n.ghostClass,!0),He.active=this,e&&this._appendGhost(),J({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(he){this._lastX=he.clientX,this._lastY=he.clientY,Xe();for(var e=document.elementFromPoint(he.clientX,he.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(he.clientX,he.clientY))!==t;)t=e;if(Z.parentNode[W]._isOutsideThisEl(e),t)do{if(t[W]){if(t[W]._onDragOver({clientX:he.clientX,clientY:he.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Le()}},_onTouchMove:function(e){if(pe){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,a=te&&j(te,!0),i=te&&a&&a.a,l=te&&a&&a.d,c=Me&&Ee&&R(Ee),u=(o.clientX-pe.clientX+r.x)/(i||1)+(c?c[0]-ke[0]:0)/(i||1),s=(o.clientY-pe.clientY+r.y)/(l||1)+(c?c[1]-ke[1]:0)/(l||1);if(!He.active&&!De){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(te){a?(a.e+=u-(ge||0),a.f+=s-(me||0)):a={a:1,b:0,c:0,d:1,e:u,f:s};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");P(te,"webkitTransform",f),P(te,"mozTransform",f),P(te,"msTransform",f),P(te,"transform",f),ge=u,me=s,he=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!te){var e=this.options.fallbackOnBody?document.body:ne,t=T(Z,!0,Me,!0,e),n=this.options;if(Me){for(Ee=e;"static"===P(Ee,"position")&&"none"===P(Ee,"transform")&&Ee!==document;)Ee=Ee.parentNode;Ee!==document.body&&Ee!==document.documentElement?(Ee===document&&(Ee=_()),t.top+=Ee.scrollTop,t.left+=Ee.scrollLeft):Ee=_(),ke=R(Ee)}x(te=Z.cloneNode(!0),n.ghostClass,!1),x(te,n.fallbackClass,!0),x(te,n.dragClass,!0),P(te,"transition",""),P(te,"transform",""),P(te,"box-sizing","border-box"),P(te,"margin",0),P(te,"top",t.top),P(te,"left",t.left),P(te,"width",t.width),P(te,"height",t.height),P(te,"opacity","0.8"),P(te,"position",Me?"absolute":"fixed"),P(te,"zIndex","100000"),P(te,"pointerEvents","none"),He.ghost=te,e.appendChild(te),P(te,"transform-origin",ve/parseInt(te.style.width)*100+"% "+be/parseInt(te.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;Q("dragStart",this,{evt:e}),He.eventCanceled?this._onDrop():(Q("setupClone",this),He.eventCanceled||((ae=Y(Z)).draggable=!1,ae.style["will-change"]="",this._hideClone(),x(ae,this.options.chosenClass,!1),He.clone=ae),n.cloneId=Ke((function(){Q("clone",n),He.eventCanceled||(n.options.removeCloneOnHide||ne.insertBefore(ae,Z),n._hideClone(),J({sortable:n,name:"clone"}))})),!t&&x(Z,o.dragClass,!0),t?(Ce=!0,n._loopId=setInterval(n._emulateDragOver,50)):(w(document,"mouseup",n._onDrop),w(document,"touchend",n._onDrop),w(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,Z)),y(document,"drop",n),P(Z,"transform","translateZ(0)")),De=!0,n._dragStartId=Ke(n._dragStarted.bind(n,t,e)),y(document,"selectstart",n),ye=!0,g&&P(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,a,i=this.el,l=e.target,c=this.options,u=c.group,s=He.active,f=fe===u,d=c.sort,p=de||s,h=this,g=!1;if(!_e){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),l=E(l,c.draggable,i,!0),B("dragOver"),He.eventCanceled)return g;if(Z.contains(e.target)||l.animated&&l.animatingX&&l.animatingY||h._ignoreWhileAnimating===l)return Y(!1);if(Ce=!1,s&&!c.disabled&&(f?d||(r=ee!==ne):de===this||(this.lastPutMode=fe.checkPull(this,s,Z,e))&&u.checkPut(this,s,Z,e))){if(a="vertical"===this._getDirection(e,l),t=T(Z),B("dragOverValid"),He.eventCanceled)return g;if(r)return ee=ne,X(),this._hideClone(),B("revert"),He.eventCanceled||(re?ne.insertBefore(Z,re):ne.appendChild(Z)),Y(!0);var m=N(i,c.draggable);if(!m||function(e,t,n){var r=T(N(n.el,n.options.draggable));return t?e.clientX>r.right+10||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+10}(e,a,this)&&!m.animated){if(m===Z)return Y(!1);if(m&&i===e.target&&(l=m),l&&(n=T(l)),!1!==We(ne,i,Z,t,l,n,e,!!l))return X(),i.appendChild(Z),ee=i,U(),Y(!0)}else if(m&&function(e,t,n){var r=T(M(n.el,0,n.options,!0));return t?e.clientX<r.left-10||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-10||e.clientY<r.bottom&&e.clientX<r.left}(e,a,this)){var v=M(i,0,c,!0);if(v===Z)return Y(!1);if(n=T(l=v),!1!==We(ne,i,Z,t,l,n,e,!1))return X(),i.insertBefore(Z,v),ee=i,U(),Y(!0)}else if(l.parentNode===i){n=T(l);var b,y,w,O=Z.parentNode!==i,S=!function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,a=n?e.width:e.height,i=n?t.left:t.top,l=n?t.right:t.bottom,c=n?t.width:t.height;return r===i||o===l||r+a/2===i+c/2}(Z.animated&&Z.toRect||t,l.animated&&l.toRect||n,a),D=a?"top":"left",C=I(l,"top","top")||I(Z,"top","top"),j=C?C.scrollTop:void 0;if(we!==l&&(y=n[D],Pe=!1,je=!S&&c.invertSwap||O),0!==(b=function(e,t,n,r,o,a,i,l){var c=r?e.clientY:e.clientX,u=r?n.height:n.width,s=r?n.top:n.left,f=r?n.bottom:n.right,d=!1;if(!i)if(l&&Se<u*o){if(!Pe&&(1===Oe?c>s+u*a/2:c<f-u*a/2)&&(Pe=!0),Pe)d=!0;else if(1===Oe?c<s+Se:c>f-Se)return-Oe}else if(c>s+u*(1-o)/2&&c<f-u*(1-o)/2)return function(e){return A(Z)<A(e)?1:-1}(t);if((d=d||i)&&(c<s+u*a/2||c>f-u*a/2))return c>s+u/2?1:-1;return 0}(e,l,n,a,S?1:c.swapThreshold,null==c.invertedSwapThreshold?c.swapThreshold:c.invertedSwapThreshold,je,we===l))){var k=A(Z);do{k-=b,w=ee.children[k]}while(w&&("none"===P(w,"display")||w===te))}if(0===b||w===l)return Y(!1);we=l,Oe=b;var _=l.nextElementSibling,R=!1,F=We(ne,i,Z,t,l,n,e,R=1===b);if(!1!==F)return 1!==F&&-1!==F||(R=1===F),_e=!0,setTimeout(Ve,30),X(),R&&!_?i.appendChild(Z):l.parentNode.insertBefore(Z,R?_:l),C&&L(C,0,j-C.scrollTop),ee=Z.parentNode,void 0===y||je||(Se=Math.abs(y-T(l)[D])),U(),Y(!0)}if(i.contains(Z))return Y(!1)}return!1}function B(c,u){Q(c,h,o({evt:e,isOwner:f,axis:a?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:d,fromSortable:p,target:l,completed:Y,onMove:function(n,r){return We(ne,i,Z,t,n,T(n),e,r)},changed:U},u))}function X(){B("dragOverAnimationCapture"),h.captureAnimationState(),h!==p&&p.captureAnimationState()}function Y(t){return B("dragOverCompleted",{insertion:t}),t&&(f?s._hideClone():s._showClone(h),h!==p&&(x(Z,de?de.options.ghostClass:s.options.ghostClass,!1),x(Z,c.ghostClass,!0)),de!==h&&h!==He.active?de=h:h===He.active&&de&&(de=null),p===h&&(h._ignoreWhileAnimating=l),h.animateAll((function(){B("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(l===Z&&!Z.animated||l===i&&!l.animated)&&(we=null),c.dragoverBubble||e.rootEl||l===document||(Z.parentNode[W]._isOutsideThisEl(e.target),!t&&Ye(e)),!c.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function U(){ce=A(Z),se=A(Z,c.draggable),J({sortable:h,name:"change",toEl:i,newIndex:ce,newDraggableIndex:se,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){w(document,"mousemove",this._onTouchMove),w(document,"touchmove",this._onTouchMove),w(document,"pointermove",this._onTouchMove),w(document,"dragover",Ye),w(document,"mousemove",Ye),w(document,"touchmove",Ye)},_offUpEvents:function(){var e=this.el.ownerDocument;w(e,"mouseup",this._onDrop),w(e,"touchend",this._onDrop),w(e,"pointerup",this._onDrop),w(e,"touchcancel",this._onDrop),w(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;ce=A(Z),se=A(Z,n.draggable),Q("drop",this,{evt:e}),ee=Z&&Z.parentNode,ce=A(Z),se=A(Z,n.draggable),He.eventCanceled||(De=!1,je=!1,Pe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qe(this.cloneId),qe(this._dragStartId),this.nativeDraggable&&(w(document,"drop",this),w(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),g&&P(document.body,"user-select",""),P(Z,"transform",""),e&&(ye&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(ne===ee||de&&"clone"!==de.lastPutMode)&&ae&&ae.parentNode&&ae.parentNode.removeChild(ae),Z&&(this.nativeDraggable&&w(Z,"dragend",this),ze(Z),Z.style["will-change"]="",ye&&!De&&x(Z,de?de.options.ghostClass:this.options.ghostClass,!1),x(Z,this.options.chosenClass,!1),J({sortable:this,name:"unchoose",toEl:ee,newIndex:null,newDraggableIndex:null,originalEvent:e}),ne!==ee?(ce>=0&&(J({rootEl:ee,name:"add",toEl:ee,fromEl:ne,originalEvent:e}),J({sortable:this,name:"remove",toEl:ee,originalEvent:e}),J({rootEl:ee,name:"sort",toEl:ee,fromEl:ne,originalEvent:e}),J({sortable:this,name:"sort",toEl:ee,originalEvent:e})),de&&de.save()):ce!==le&&ce>=0&&(J({sortable:this,name:"update",toEl:ee,originalEvent:e}),J({sortable:this,name:"sort",toEl:ee,originalEvent:e})),He.active&&(null!=ce&&-1!==ce||(ce=le,se=ue),J({sortable:this,name:"end",toEl:ee,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Q("nulling",this),ne=Z=ee=te=re=ae=oe=ie=pe=he=ye=ce=se=le=ue=we=Oe=de=fe=He.dragged=He.ghost=He.clone=He.active=null,Te.forEach((function(e){e.checked=!0})),Te.length=ge=me=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Z&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,r=0,o=n.length,a=this.options;r<o;r++)E(e=n[r],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||Ge(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach((function(e,t){var o=r.children[t];E(o,this.options.draggable,r,!1)&&(n[e]=o)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return E(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=K.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Be(n)},destroy:function(){Q("destroy",this);var e=this.el;e[W]=null,w(e,"mousedown",this._onTapStart),w(e,"touchstart",this._onTapStart),w(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(w(e,"dragover",this),w(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),xe.splice(xe.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ie){if(Q("hideClone",this),He.eventCanceled)return;P(ae,"display","none"),this.options.removeCloneOnHide&&ae.parentNode&&ae.parentNode.removeChild(ae),ie=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ie){if(Q("showClone",this),He.eventCanceled)return;Z.parentNode!=ne||this.options.group.revertClone?re?ne.insertBefore(ae,re):ne.appendChild(ae):ne.insertBefore(ae,Z),this.options.group.revertClone&&this.animate(Z,ae),P(ae,"display",""),ie=!1}}else this._hideClone()}},Ie&&y(document,"touchmove",(function(e){(He.active||De)&&e.cancelable&&e.preventDefault()})),He.utils={on:y,off:w,css:P,find:k,is:function(e,t){return!!E(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:X,closest:E,toggleClass:x,clone:Y,index:A,nextTick:Ke,cancelNextTick:qe,detectDirection:Fe,getChild:M},He.get=function(e){return e[W]},He.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(He.utils=o(o({},He.utils),e.utils)),K.mount(e)}))},He.create=function(e,t){return new He(e,t)},He.version="1.14.0";var $e,Qe,Je,Ze,et,tt,nt=[],rt=!1;function ot(){nt.forEach((function(e){clearInterval(e.pid)})),nt=[]}function at(){clearInterval(tt)}var it,lt=X((function(e,t,n,r){if(t.scroll){var o,a=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,c=t.scrollSpeed,u=_(),s=!1;Qe!==n&&(Qe=n,ot(),$e=t.scroll,o=t.scrollFn,!0===$e&&($e=F(n,!0)));var f=0,d=$e;do{var p=d,h=T(p),g=h.top,m=h.bottom,v=h.left,b=h.right,y=h.width,w=h.height,O=void 0,S=void 0,E=p.scrollWidth,D=p.scrollHeight,C=P(p),x=p.scrollLeft,j=p.scrollTop;p===u?(O=y<E&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),S=w<D&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(O=y<E&&("auto"===C.overflowX||"scroll"===C.overflowX),S=w<D&&("auto"===C.overflowY||"scroll"===C.overflowY));var k=O&&(Math.abs(b-a)<=l&&x+y<E)-(Math.abs(v-a)<=l&&!!x),I=S&&(Math.abs(m-i)<=l&&j+w<D)-(Math.abs(g-i)<=l&&!!j);if(!nt[f])for(var M=0;M<=f;M++)nt[M]||(nt[M]={});nt[f].vx==k&&nt[f].vy==I&&nt[f].el===p||(nt[f].el=p,nt[f].vx=k,nt[f].vy=I,clearInterval(nt[f].pid),0==k&&0==I||(s=!0,nt[f].pid=setInterval(function(){r&&0===this.layer&&He.active._onTouchMove(et);var t=nt[this.layer].vy?nt[this.layer].vy*c:0,n=nt[this.layer].vx?nt[this.layer].vx*c:0;"function"==typeof o&&"continue"!==o.call(He.dragged.parentNode[W],n,t,e,et,nt[this.layer].el)||L(nt[this.layer].el,n,t)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==u&&(d=F(d,!1)));rt=s}}),30),ct=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,a=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=n||o;i();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,s=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(s)&&(a("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ut(){}function st(){}function ft(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;it=t},dragOverValid:function(e){var t=e.completed,n=e.target,r=e.onMove,o=e.activeSortable,a=e.changed,i=e.cancel;if(o.options.swap){var l=this.sortable.el,c=this.options;if(n&&n!==l){var u=it;!1!==r(n)?(x(n,c.swapClass,!0),it=n):it=null,u&&u!==it&&x(u,c.swapClass,!1)}a(),t(!0),i()}},drop:function(e){var t=e.activeSortable,n=e.putSortable,r=e.dragEl,o=n||this.sortable,a=this.options;it&&x(it,a.swapClass,!1),it&&(a.swap||n&&n.options.swap)&&r!==it&&(o.captureAnimationState(),o!==t&&t.captureAnimationState(),function(e,t){var n,r,o=e.parentNode,a=t.parentNode;if(!o||!a||o.isEqualNode(t)||a.isEqualNode(e))return;n=A(e),r=A(t),o.isEqualNode(a)&&n<r&&r++;o.insertBefore(t,o.children[n]),a.insertBefore(e,a.children[r])}(r,it),o.animateAll(),o!==t&&t.animateAll())},nulling:function(){it=null}},l(e,{pluginName:"swap",eventProperties:function(){return{swapItem:it}}})}ut.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=M(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ct},l(ut,{pluginName:"revertOnSpill"}),st.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:ct},l(st,{pluginName:"removeOnSpill"});var dt,pt,ht,gt,mt,vt=[],bt=[],yt=!1,wt=!1,Ot=!1;function St(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?y(document,"pointerup",this._deselectMultiDrag):(y(document,"mouseup",this._deselectMultiDrag),y(document,"touchend",this._deselectMultiDrag)),y(document,"keydown",this._checkKeyDown),y(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,n){var r="";vt.length&&pt===e?vt.forEach((function(e,t){r+=(t?", ":"")+e.textContent})):r=n.textContent,t.setData("Text",r)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;ht=t},delayEnded:function(){this.isMultiDrag=~vt.indexOf(ht)},setupClone:function(e){var t=e.sortable,n=e.cancel;if(this.isMultiDrag){for(var r=0;r<vt.length;r++)bt.push(Y(vt[r])),bt[r].sortableIndex=vt[r].sortableIndex,bt[r].draggable=!1,bt[r].style["will-change"]="",x(bt[r],this.options.selectedClass,!1),vt[r]===ht&&x(bt[r],this.options.chosenClass,!1);t._hideClone(),n()}},clone:function(e){var t=e.sortable,n=e.rootEl,r=e.dispatchSortableEvent,o=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||vt.length&&pt===t&&(Et(!0,n),r("clone"),o()))},showClone:function(e){var t=e.cloneNowShown,n=e.rootEl,r=e.cancel;this.isMultiDrag&&(Et(!1,n),bt.forEach((function(e){P(e,"display","")})),t(),mt=!1,r())},hideClone:function(e){var t=this,n=(e.sortable,e.cloneNowHidden),r=e.cancel;this.isMultiDrag&&(bt.forEach((function(e){P(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),n(),mt=!0,r())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&pt&&pt.multiDrag._deselectMultiDrag(),vt.forEach((function(e){e.sortableIndex=A(e)})),vt=vt.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),Ot=!0},dragStarted:function(e){var t=this,n=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){vt.forEach((function(e){e!==ht&&P(e,"position","absolute")}));var r=T(ht,!1,!0,!0);vt.forEach((function(e){e!==ht&&U(e,r)})),wt=!0,yt=!0}n.animateAll((function(){wt=!1,yt=!1,t.options.animation&&vt.forEach((function(e){H(e)})),t.options.sort&&Dt()}))}},dragOver:function(e){var t=e.target,n=e.completed,r=e.cancel;wt&&~vt.indexOf(t)&&(n(!1),r())},revert:function(e){var t=e.fromSortable,n=e.rootEl,r=e.sortable,o=e.dragRect;vt.length>1&&(vt.forEach((function(e){r.addAnimationState({target:e,rect:wt?T(e):o}),H(e),e.fromRect=o,t.removeAnimationState(e)})),wt=!1,function(e,t){vt.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(e){var t=e.sortable,n=e.isOwner,r=e.insertion,o=e.activeSortable,a=e.parentEl,i=e.putSortable,l=this.options;if(r){if(n&&o._hideClone(),yt=!1,l.animation&&vt.length>1&&(wt||!n&&!o.options.sort&&!i)){var c=T(ht,!1,!0,!0);vt.forEach((function(e){e!==ht&&(U(e,c),a.appendChild(e))})),wt=!0}if(!n)if(wt||Dt(),vt.length>1){var u=mt;o._showClone(t),o.options.animation&&!mt&&u&&bt.forEach((function(e){o.addAnimationState({target:e,rect:gt}),e.fromRect=gt,e.thisAnimationDuration=null}))}else o._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,r=e.activeSortable;if(vt.forEach((function(e){e.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){gt=l({},t);var o=j(ht,!0);gt.top-=o.f,gt.left-=o.e}},dragOverAnimationComplete:function(){wt&&(wt=!1,Dt())},drop:function(e){var t=e.originalEvent,n=e.rootEl,r=e.parentEl,o=e.sortable,a=e.dispatchSortableEvent,i=e.oldIndex,l=e.putSortable,c=l||this.sortable;if(t){var u=this.options,s=r.children;if(!Ot)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),x(ht,u.selectedClass,!~vt.indexOf(ht)),~vt.indexOf(ht))vt.splice(vt.indexOf(ht),1),dt=null,q({sortable:o,rootEl:n,name:"deselect",targetEl:ht,originalEvt:t});else{if(vt.push(ht),q({sortable:o,rootEl:n,name:"select",targetEl:ht,originalEvt:t}),t.shiftKey&&dt&&o.el.contains(dt)){var f,d,p=A(dt),h=A(ht);if(~p&&~h&&p!==h)for(h>p?(d=p,f=h):(d=h,f=p+1);d<f;d++)~vt.indexOf(s[d])||(x(s[d],u.selectedClass,!0),vt.push(s[d]),q({sortable:o,rootEl:n,name:"select",targetEl:s[d],originalEvt:t}))}else dt=ht;pt=c}if(Ot&&this.isMultiDrag){if(wt=!1,(r[W].options.sort||r!==n)&&vt.length>1){var g=T(ht),m=A(ht,":not(."+this.options.selectedClass+")");if(!yt&&u.animation&&(ht.thisAnimationDuration=null),c.captureAnimationState(),!yt&&(u.animation&&(ht.fromRect=g,vt.forEach((function(e){if(e.thisAnimationDuration=null,e!==ht){var t=wt?T(e):g;e.fromRect=t,c.addAnimationState({target:e,rect:t})}}))),Dt(),vt.forEach((function(e){s[m]?r.insertBefore(e,s[m]):r.appendChild(e),m++})),i===A(ht))){var v=!1;vt.forEach((function(e){e.sortableIndex===A(e)||(v=!0)})),v&&a("update")}vt.forEach((function(e){H(e)})),c.animateAll()}pt=c}(n===r||l&&"clone"!==l.lastPutMode)&&bt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=Ot=!1,bt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),w(document,"pointerup",this._deselectMultiDrag),w(document,"mouseup",this._deselectMultiDrag),w(document,"touchend",this._deselectMultiDrag),w(document,"keydown",this._checkKeyDown),w(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==Ot&&Ot||pt!==this.sortable||e&&E(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;vt.length;){var t=vt[0];x(t,this.options.selectedClass,!1),vt.shift(),q({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},l(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[W];t&&t.options.multiDrag&&!~vt.indexOf(e)&&(pt&&pt!==t&&(pt.multiDrag._deselectMultiDrag(),pt=t),x(e,t.options.selectedClass,!0),vt.push(e))},deselect:function(e){var t=e.parentNode[W],n=vt.indexOf(e);t&&t.options.multiDrag&&~n&&(x(e,t.options.selectedClass,!1),vt.splice(n,1))}},eventProperties:function(){var e=this,t=[],n=[];return vt.forEach((function(r){var o;t.push({multiDragElement:r,index:r.sortableIndex}),o=wt&&r!==ht?-1:wt?A(r,":not(."+e.options.selectedClass+")"):A(r),n.push({multiDragElement:r,index:o})})),{items:u(vt),clones:[].concat(bt),oldIndicies:t,newIndicies:n}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}function Et(e,t){bt.forEach((function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)}))}function Dt(){vt.forEach((function(e){e!==ht&&e.parentNode&&e.parentNode.removeChild(e)}))}He.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?y(document,"dragover",this._handleAutoScroll):this.options.supportPointer?y(document,"pointermove",this._handleFallbackAutoScroll):t.touches?y(document,"touchmove",this._handleFallbackAutoScroll):y(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):(w(document,"pointermove",this._handleFallbackAutoScroll),w(document,"touchmove",this._handleFallbackAutoScroll),w(document,"mousemove",this._handleFallbackAutoScroll)),at(),ot(),clearTimeout(D),D=void 0},nulling:function(){et=Qe=$e=rt=tt=Je=Ze=null,nt.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,o);if(et=e,t||this.options.forceAutoScrollFallback||p||d||g){lt(e,this.options,a,t);var i=F(a,!0);!rt||tt&&r===Je&&o===Ze||(tt&&at(),tt=setInterval((function(){var a=F(document.elementFromPoint(r,o),!0);a!==i&&(i=a,ot()),lt(e,n.options,a,t)}),10),Je=r,Ze=o)}else{if(!this.options.bubbleScroll||F(a,!0)===_())return void ot();lt(e,this.options,F(a,!1),!1)}}},l(e,{pluginName:"scroll",initializeByDefault:!0})}),He.mount(st,ut),t.default=He},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(4);function i(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function c(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var u=n(2),s=n(3),f=n(1),d=n(12),p=n.n(d);function h(e,t){return void 0!==e&&void 0!==t&&e==t}var g,m,v,b,y,w,O,S,E,D,C,x,P,j,k,_,T=[{id:"equal",operator:"=",function:h,description:"Check if the two values are equal"},{id:"notEqual",operator:"!=",function:function(e,t){return!h(e,t)},description:"Check if the two values are not equal"},{id:"greaterThan",operator:">",function:function(e,t){return void 0!==e&&void 0!==t&&e>t}},{id:"smallerThan",operator:"<",function:function(e,t){return void 0!==e&&void 0!==t&&e<t}}],I=function(e,t){return 100*e/t},M=function(e,t){return e*t/100},N=function(e){var t,n,f=e.draggable,d=e.imageDimensions,h=e.onPositionChange,v=e.index,b=e.link,y=e.name,w=e.mappings,O=Object(s.clone)(e.sensor),S=Object(s.clone)(e.value),E=R(),D=l(Object(r.useState)(!1),2),C=D[0],x=D[1],P={x:M(O.position.x,d.width),y:M(O.position.y,d.height)},j=function(e){var t=T.find((function(t){return e.operator===t.id}));if(null==t?void 0:t.function(S,e.compareTo))return O=Object(s.merge)(O,e.values),S=e.values.overrideValue?e.values.overrideValue:S,delete O.overrideValue,"break"};try{for(var k=i(w),_=k.next();!_.done;_=k.next()){if("break"===j(_.value))break}}catch(e){t={error:e}}finally{try{_&&!_.done&&(n=k.return)&&n.call(k)}finally{if(t)throw t.error}}var N=O.unit,A=Object(a.getValueFormat)(N)(S,O.decimals),F=void 0!==S?Object(a.formattedValueToString)(A):"No data";return o.a.createElement(o.a.Fragment,null,O.visible&&o.a.createElement(p.a,{disabled:f,bounds:"#imageItBgImage",handle:".handle",onStop:function(e,t){var n={x:I(t.x,d.width),y:I(t.y,d.height)};h(n,v)},position:P},o.a.createElement("div",{className:Object(u.cx)(E.container,Object(u.css)(g||(g=c(["\n                color: ",";\n                background-color: ",";\n              "],["\n                color: ",";\n                background-color: ",";\n              "])),O.fontColor,O.backgroundColor),O.backgroundBlink&&E.blink),onMouseEnter:function(){return x(!0)},onMouseLeave:function(){return x(!1)}},o.a.createElement("div",{className:Object(u.cx)(E.content)},o.a.createElement("a",{className:Object(u.css)(m||(m=c(["\n                  color: ",";\n                "],["\n                  color: ",";\n                "])),O.fontColor),href:b||"#"},o.a.createElement("div",{className:Object(u.cx)(E.name)},y),o.a.createElement("div",{className:Object(u.cx)(E.value,O.valueBlink&&E.blink,O.bold&&E.bold)},F))),!f&&C&&o.a.createElement("div",{className:Object(u.cx)(E.handle,"handle")},o.a.createElement("div",{className:"fa fa-bars"})))))},A=Object(u.keyframes)(v||(v=c(["\n  50% {\n    opacity: 0;\n  }\n"],["\n  50% {\n    opacity: 0;\n  }\n"]))),R=Object(f.stylesFactory)((function(){return{container:Object(u.css)(b||(b=c(["\n      position: absolute;\n      padding: 0.5em;\n    "],["\n      position: absolute;\n      padding: 0.5em;\n    "]))),handle:Object(u.css)(y||(y=c(["\n      float: right;\n      margin-left: 0.5em;\n    "],["\n      float: right;\n      margin-left: 0.5em;\n    "]))),content:Object(u.css)(w||(w=c(["\n      float: left;\n    "],["\n      float: left;\n    "]))),name:Object(u.css)(O||(O=c(["\n      font-size: 0.5em;\n    "],["\n      font-size: 0.5em;\n    "]))),value:Object(u.css)(S||(S=c([""],[""]))),blink:Object(u.css)(E||(E=c(["\n      animation: "," 1s linear infinite;\n    "],["\n      animation: "," 1s linear infinite;\n    "])),A),bold:Object(u.css)(D||(D=c(["\n      font-weight: bold;\n    "],["\n      font-weight: bold;\n    "])))}})),F=Object(f.stylesFactory)((function(){return{wrapper:Object(u.css)(P||(P=c(["\n      width: 100%;\n      height: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    "],["\n      width: 100%;\n      height: 100%;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    "]))),imageWrapper:Object(u.css)(j||(j=c(["\n      position: relative;\n      display: inline-block;\n      max-width: 100%;\n    "],["\n      position: relative;\n      display: inline-block;\n      max-width: 100%;\n    "]))),bgImage:Object(u.css)(k||(k=c(["\n      max-width: 100%;\n    "],["\n      max-width: 100%;\n    "]))),textBox:Object(u.css)(_||(_=c(["\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      padding: 10px;\n    "],["\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      padding: 10px;\n    "])))}}));function B(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function X(e){return!!e&&!!e[xe]}function L(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Pe}(e)||Array.isArray(e)||!!e[Ce]||!!e.constructor[Ce]||G(e)||K(e))}function Y(e,t,n){void 0===n&&(n=!1),0===U(e)?(n?Object.keys:je)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function U(e){var t=e[xe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:G(e)?2:K(e)?3:0}function H(e,t){return 2===U(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function W(e,t){return 2===U(e)?e.get(t):e[t]}function z(e,t,n){var r=U(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function V(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function G(e){return Oe&&e instanceof Map}function K(e){return Se&&e instanceof Set}function q(e){return e.o||e.t}function $(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ke(e);delete t[xe];for(var n=je(t),r=0;r<n.length;r++){var o=n[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function Q(e,t){return void 0===t&&(t=!1),Z(e)||X(e)||!L(e)||(U(e)>1&&(e.set=e.add=e.clear=e.delete=J),Object.freeze(e),t&&Y(e,(function(e,t){return Q(t,!0)}),!0)),e}function J(){B(2)}function Z(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function ee(e){var t=_e[e];return t||B(18,e),t}function te(){return ye}function ne(e,t){t&&(ee("Patches"),e.u=[],e.s=[],e.v=t)}function re(e){oe(e),e.p.forEach(ie),e.p=null}function oe(e){e===ye&&(ye=e.l)}function ae(e){return ye={p:[],l:ye,h:e,m:!0,_:0}}function ie(e){var t=e[xe];0===t.i||1===t.i?t.j():t.O=!0}function le(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||ee("ES5").S(t,e,r),r?(n[xe].P&&(re(t),B(4)),L(e)&&(e=ce(t,e),t.l||se(t,e)),t.u&&ee("Patches").M(n[xe],e,t.u,t.s)):e=ce(t,n,[]),re(t),t.u&&t.v(t.u,t.s),e!==De?e:void 0}function ce(e,t,n){if(Z(t))return t;var r=t[xe];if(!r)return Y(t,(function(o,a){return ue(e,r,t,o,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return se(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=$(r.k):r.o;Y(3===r.i?new Set(o):o,(function(t,a){return ue(e,r,o,t,a,n)})),se(e,o,!1),n&&e.u&&ee("Patches").R(r,n,e.u,e.s)}return r.o}function ue(e,t,n,r,o,a){if(X(o)){var i=ce(e,o,a&&t&&3!==t.i&&!H(t.D,r)?a.concat(r):void 0);if(z(n,r,i),!X(i))return;e.m=!1}if(L(o)&&!Z(o)){if(!e.h.F&&e._<1)return;ce(e,o),t&&t.A.l||se(e,o)}}function se(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&Q(t,n)}function fe(e,t){var n=e[xe];return(n?q(n):e)[t]}function de(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function pe(e){e.P||(e.P=!0,e.l&&pe(e.l))}function he(e){e.o||(e.o=$(e.t))}function ge(e,t,n){var r=G(t)?ee("MapSet").N(t,n):K(t)?ee("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:te(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=r,a=Te;n&&(o=[r],a=Ie);var i=Proxy.revocable(o,a),l=i.revoke,c=i.proxy;return r.k=c,r.j=l,c}(t,n):ee("ES5").J(t,n);return(n?n.A:te()).p.push(r),r}function me(e){return X(e)||B(22,e),function e(t){if(!L(t))return t;var n,r=t[xe],o=U(t);if(r){if(!r.P&&(r.i<4||!ee("ES5").K(r)))return r.t;r.I=!0,n=ve(t,o),r.I=!1}else n=ve(t,o);return Y(n,(function(t,o){r&&W(r.t,t)===o||z(n,t,e(o))})),3===o?new Set(n):n}(e)}function ve(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return $(e)}var be,ye,we="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Oe="undefined"!=typeof Map,Se="undefined"!=typeof Set,Ee="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,De=we?Symbol.for("immer-nothing"):((be={})["immer-nothing"]=!0,be),Ce=we?Symbol.for("immer-draftable"):"__$immer_draftable",xe=we?Symbol.for("immer-state"):"__$immer_state",Pe=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),je="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ke=Object.getOwnPropertyDescriptors||function(e){var t={};return je(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},_e={},Te={get:function(e,t){if(t===xe)return e;var n=q(e);if(!H(n,t))return function(e,t,n){var r,o=de(t,n);return o?"value"in o?o.value:null===(r=o.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!L(r)?r:r===fe(e.t,t)?(he(e),e.o[t]=ge(e.A.h,r,e)):r},has:function(e,t){return t in q(e)},ownKeys:function(e){return Reflect.ownKeys(q(e))},set:function(e,t,n){var r=de(q(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=fe(q(e),t),a=null==o?void 0:o[xe];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(V(n,o)&&(void 0!==n||H(e.t,t)))return!0;he(e),pe(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==fe(e.t,t)||t in e.t?(e.D[t]=!1,he(e),pe(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=q(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){B(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){B(12)}},Ie={};Y(Te,(function(e,t){Ie[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ie.deleteProperty=function(e,t){return Te.deleteProperty.call(this,e[0],t)},Ie.set=function(e,t,n){return Te.set.call(this,e[0],t,n,e[0])};var Me,Ne,Ae,Re,Fe=new(function(){function e(e){var t=this;this.g=Ee,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var i;if("function"!=typeof n&&B(6),void 0!==r&&"function"!=typeof r&&B(7),L(e)){var l=ae(t),c=ge(t,e,void 0),u=!0;try{i=n(c),u=!1}finally{u?re(l):oe(l)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return ne(l,r),le(e,l)}),(function(e){throw re(l),e})):(ne(l,r),le(i,l))}if(!e||"object"!=typeof e){if((i=n(e))===De)return;return void 0===i&&(i=e),t.F&&Q(i,!0),i}B(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(o))}))}:[t.produce(e,n,(function(e,t){r=e,o=t})),r,o];var r,o},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){L(e)||B(8),X(e)&&(e=me(e));var t=ae(this),n=ge(this,e,void 0);return n[xe].C=!0,oe(t),n},t.finishDraft=function(e,t){var n=(e&&e[xe]).A;return ne(n,t),le(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Ee&&B(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=ee("Patches").$;return X(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),Be=Fe.produce,Xe=(Fe.produceWithPatches.bind(Fe),Fe.setAutoFreeze.bind(Fe),Fe.setUseProxies.bind(Fe),Fe.applyPatches.bind(Fe),Fe.createDraft.bind(Fe),Fe.finishDraft.bind(Fe),Be),Le=function(e){return o.a.createElement("div",{style:{height:"10px",width:"10px",backgroundColor:e.color,borderRadius:"50%",display:"inline-block"}})},Ye=n(13),Ue=function(e){var t=e.mapping,n=e.onDelete;return o.a.createElement(f.ButtonGroup,null,o.a.createElement(f.Button,{icon:"times",variant:"link",size:"sm",onClick:n}),o.a.createElement(f.Button,{variant:"link",size:"sm"},t))},He=function(e){var t=e.mappings,n=e.onChange,a=l(Object(r.useState)(""),2),i=a[0],c=a[1],u=function(){var e=i.trim();0!==e.length&&(n(t.concat(e)),c(""))},d=o.a.createElement(f.Button,{variant:"secondary",onClick:u},"Add"),p=t.map((function(e){return{id:Object(s.uniqueId)("mapping"),value:e}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ye.ReactSortable,{list:p,setList:function(e){return n(e.map((function(e){return e.value})))}},p.map((function(e,r){return o.a.createElement(Ue,{mapping:e.value,key:r,onDelete:function(){return function(e){var r=t.filter((function(t,n){return n!==e}));n(r)}(r)}})}))),o.a.createElement(f.Field,{invalid:t.includes(i)||0===i.length,error:t.includes(i)?i+" is already in the list":""},o.a.createElement(f.Input,{addonAfter:d,onKeyPress:function(e){"Enter"===e.key&&u()},onChange:function(e){return c(e.currentTarget.value)},value:i})))},We=function(e){var t=e.sensor,n=e.index,r=e.onChange,a=e.onDelete;function i(e){var o=Xe(t,e);r(o,n)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.HorizontalGroup,null,"Sensor ",e.index+1,o.a.createElement(f.IconButton,{name:"trash-alt",size:"sm",surface:"header",onClick:function(){return a(n)}})),o.a.createElement(f.Field,{label:"Query ID",description:"Set this as query ID OR the query alias below"},o.a.createElement(f.Input,{value:t.query.id,onChange:function(e){i((function(t){t.query.id=e.currentTarget.value}))}})),o.a.createElement(f.Field,{label:"Query Alias",description:"If both alias and ID are set, ID has precedence"},o.a.createElement(f.Input,{value:t.query.alias,onChange:function(e){i((function(t){t.query.alias=e.currentTarget.value}))}})),o.a.createElement(f.Field,{label:"Mapping IDs",description:"Select IDs of mappings you want to use for this sensor. First valid mapping will be applied. List can be reordered by dragging."},o.a.createElement(He,{mappings:t.mappingIds,onChange:function(e){i((function(t){t.mappingIds=e}))}})),o.a.createElement(f.Field,{label:"Name"},o.a.createElement(f.Input,{value:t.name,onChange:function(e){i((function(t){t.name=e.currentTarget.value}))}})),o.a.createElement(f.Field,{label:"Link"},o.a.createElement(f.Input,{value:t.link,onChange:function(e){i((function(t){t.link=e.currentTarget.value}))}})),o.a.createElement(f.Field,{label:"Show"},o.a.createElement(f.Switch,{value:t.visible,onChange:function(e){i((function(t){t.visible=e.currentTarget.checked}))}})),o.a.createElement(f.Field,{label:"Unit Type"},o.a.createElement(f.UnitPicker,{value:t.unit,onChange:function(e){i((function(t){t.unit=e}))}})),o.a.createElement(f.Field,{label:"Font Color"},o.a.createElement(f.ColorPicker,{color:t.fontColor,onChange:function(e){i((function(t){t.fontColor=e}))},enableNamedColors:!0},(function(e){var n=e.ref,r=e.showColorPicker,a=e.hideColorPicker;return o.a.createElement(f.Button,{ref:n,onMouseLeave:a,onClick:r,variant:"secondary"},"Open color picker ",o.a.createElement(Le,{color:t.fontColor}))}))),o.a.createElement(f.Field,{label:"Background Color"},o.a.createElement(f.ColorPicker,{color:t.backgroundColor,onChange:function(e){i((function(t){t.backgroundColor=e}))},enableNamedColors:!0},(function(e){var n=e.ref,r=e.showColorPicker,a=e.hideColorPicker;return o.a.createElement(f.Button,{ref:n,onMouseLeave:a,onClick:r,variant:"secondary"},"Open color picker ",o.a.createElement(Le,{color:t.backgroundColor}))}))),o.a.createElement(f.Field,{label:"Decimals"},o.a.createElement(f.Input,{value:t.decimals,type:"number",onChange:function(e){i((function(t){t.decimals=Number.parseInt(e.currentTarget.value,10)}))}})))},ze={name:"Name",query:{id:"A",alias:""},visible:!0,backgroundColor:"#000",fontColor:"#FFF",bold:!1,link:"",position:{x:50,y:50},mappingIds:[],unit:void 0,decimals:2,valueBlink:!1,backgroundBlink:!1},Ve=function(e){var t=e.sensors,n=e.onChange,r=Object(f.useTheme)(),a=Ge(r),i=function(e,r){t[r]=e,n(t)},l=function(e){t.splice(e,1),n(t)};return o.a.createElement(o.a.Fragment,null,t&&t.map((function(e,t){return o.a.createElement("div",{className:a.sensorItemWrapperStyle,key:t},o.a.createElement(We,{sensor:e,onChange:i,onDelete:l,index:t}))})),o.a.createElement(f.Button,{className:a.addButtonStyle,onClick:function(){t.push(ze),n(t)},variant:"secondary",size:"md"},"Add New"))},Ge=Object(f.stylesFactory)((function(e){return{sensorItemWrapperStyle:Object(u.css)(Me||(Me=c(["\n    margin-bottom: 16px;\n    padding: 8px;\n    background-color: ",";\n  "],["\n    margin-bottom: 16px;\n    padding: 8px;\n    background-color: ",";\n  "])),e.colors.bg2),addButtonStyle:Object(u.css)(Ne||(Ne=c(["\n    /* margin-left: 8px; */\n  "],["\n    /* margin-left: 8px; */\n  "])))}})),Ke=function(e){var t,n=e.mapping,r=e.index,a=e.operatorsOptions,i=e.onChange,l=e.onDelete;function c(e){var t=Xe(n,e);i(t,r)}return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.HorizontalGroup,null,"Mapping ",r+1,o.a.createElement(f.IconButton,{name:"trash-alt",size:"sm",surface:"header",onClick:function(){return l(r)}})),o.a.createElement(f.Field,{label:"ID"},o.a.createElement(f.Input,{value:n.id,onChange:function(e){c((function(t){t.id=e.currentTarget.value}))}})),o.a.createElement(f.Field,{label:"Description"},o.a.createElement(f.TextArea,{value:n.description,onChange:function(e){c((function(t){t.description=e.currentTarget.value}))}})),o.a.createElement(f.Field,{label:"Operator"},o.a.createElement(f.Select,{value:n.operator,options:a,onChange:function(e){c((function(t){t.operator=e.value}))}})),o.a.createElement(f.Field,{label:"Compare to"},o.a.createElement(f.Input,{value:n.compareTo,onChange:function(e){c((function(t){t.compareTo=e.currentTarget.value}))}})),o.a.createElement(f.Field,{label:"Font Color"},o.a.createElement(f.ColorPicker,{color:null===(t=n.values)||void 0===t?void 0:t.fontColor,onChange:function(e){c((function(t){t.values.fontColor=e}))},enableNamedColors:!0},(function(e){var t=e.ref,r=e.showColorPicker,a=e.hideColorPicker;return o.a.createElement(f.Button,{ref:t,onMouseLeave:a,onClick:r,variant:"secondary"},"Open color picker ",o.a.createElement(Le,{color:n.values.fontColor}))}))),o.a.createElement(f.Field,{label:"Background Color"},o.a.createElement(f.ColorPicker,{color:n.values.backgroundColor,onChange:function(e){c((function(t){t.values.backgroundColor=e}))},enableNamedColors:!0},(function(e){var t=e.ref,r=e.showColorPicker,a=e.hideColorPicker;return o.a.createElement(f.Button,{ref:t,onMouseLeave:a,onClick:r,variant:"secondary"},"Open color picker ",o.a.createElement(Le,{color:n.values.backgroundColor}))}))),o.a.createElement(f.Field,{label:"Show"},o.a.createElement(f.Switch,{value:n.values.visible,onChange:function(e){c((function(t){t.values.visible=e.currentTarget.checked}))}})),o.a.createElement(f.Field,{label:"Bold"},o.a.createElement(f.Switch,{value:n.values.bold,onChange:function(e){c((function(t){t.values.bold=e.currentTarget.checked}))}})),o.a.createElement(f.Field,{label:"Background Blink"},o.a.createElement(f.Switch,{value:n.values.backgroundBlink,onChange:function(e){c((function(t){t.values.backgroundBlink=e.currentTarget.checked}))}})),o.a.createElement(f.Field,{label:"Value Blink"},o.a.createElement(f.Switch,{value:n.values.valueBlink,onChange:function(e){c((function(t){t.values.valueBlink=e.currentTarget.checked}))}})),o.a.createElement(f.Field,{label:"Override value"},o.a.createElement(f.Input,{value:n.values.overrideValue,onChange:function(e){c((function(t){t.values.overrideValue=e.currentTarget.value}))}})))},qe=T.map((function(e){return{label:e.operator,value:e.id,description:e.description}})),$e=function(e){var t=e.mappings,n=e.onChange,r=Object(f.useTheme)(),a=Qe(r),i={id:"mapping-"+Math.random().toString(36).substr(2,5),description:"",compareTo:0,operator:T[0].id,values:{fontColor:"#fff",backgroundColor:"#000",valueBlink:!1,backgroundBlink:!1,bold:!1,visible:!0,overrideValue:void 0}},l=function(e,r){t[r]=e,n(t)},c=function(e){t.splice(e,1),n(t)};return o.a.createElement(o.a.Fragment,null,t&&t.map((function(e,t){return o.a.createElement("div",{className:a.mappingItemWrapper,key:t},o.a.createElement(Ke,{mapping:e,operatorsOptions:qe,onChange:l,onDelete:c,index:t}))})),o.a.createElement(f.Button,{className:a.addButtonStyle,onClick:function(){t.push(i),n(t)},variant:"secondary",size:"md"},"Add New"))},Qe=Object(f.stylesFactory)((function(e){return{mappingItemWrapper:Object(u.css)(Ae||(Ae=c(["\n    margin-bottom: 16px;\n    padding: 8px;\n    background-color: ",";\n  "],["\n    margin-bottom: 16px;\n    padding: 8px;\n    background-color: ",";\n  "])),e.colors.bg2),addButtonStyle:Object(u.css)(Re||(Re=c(["\n    /* margin-left: 8px; */\n  "],["\n    /* margin-left: 8px; */\n  "])))}}));n.d(t,"plugin",(function(){return Je}));var Je=new a.PanelPlugin((function(e){var t=e.options,n=e.data,i=e.width,d=e.height,p=e.onOptionsChange,h=e.fieldConfig,g=e.replaceVariables,m=t.forceImageRefresh,v=t.lockSensors,b=t.mappings,y=t.sensors,w=t.sensorsTextSize,O=Object(f.useTheme)(),S=F(),E=Object(r.useRef)(null),D=l(Object(r.useState)({height:0,width:0}),2),P=D[0],j=D[1],k=l(Object(r.useState)(t.imageUrl),2),_=k[0],T=k[1];Object(r.useEffect)((function(){T(m?t.imageUrl+"?"+Object(s.uniqueId)():t.imageUrl)}),[n,t.imageUrl,m]),Object(r.useEffect)((function(){j({height:E.current.offsetHeight,width:E.current.offsetWidth})}),[i,d]);var I=function(e,n){var r=Object(s.cloneDeep)(t);r.sensors[n].position=e,p(r)};return o.a.createElement("div",{className:S.wrapper},o.a.createElement("div",{id:"imageItBgImage",className:Object(u.cx)(S.imageWrapper,Object(u.css)(C||(C=c(["\n            max-height: ","px;\n            font-size: ","px;\n          "],["\n            max-height: ","px;\n            font-size: ","px;\n          "])),d,w*P.width/50/10))},y&&y.map((function(e,t){var r=n.series.find((function(t){return e.query.id?e.query.id===t.refId:e.query.alias===t.name})),i=void 0;void 0!==r&&(i=Object(a.getFieldDisplayValues)({data:[r],reduceOptions:{calcs:[a.ReducerID.last]},fieldConfig:h,replaceVariables:g,theme:O})[0].display.numeric);var l=e.mappingIds.map((function(e){return b.find((function(t){return e===t.id}))})).filter((function(e){return void 0!==e}));return o.a.createElement(N,{draggable:v,sensor:e,mappings:l,index:t,link:g(e.link),name:g(e.name),imageDimensions:P,onPositionChange:I,value:i,key:t})})),o.a.createElement("img",{className:Object(u.cx)(S.bgImage,Object(u.css)(x||(x=c(["\n              max-height: ","px;\n            "],["\n              max-height: ","px;\n            "])),d)),src:_,ref:E,onLoad:function(e){var t=e.target;j({height:t.offsetHeight,width:t.offsetWidth})},draggable:"false"})))})).setMigrationHandler((function(e){var t=e.options,n=t.sensors||[];return n&&n.map((function(e){e.mappingId?(e.mappingIds=[e.mappingId],delete e.mappingId):e.mappingIds=[]})),t})).setPanelOptions((function(e){return e.addTextInput({path:"imageUrl",name:"Image URL",description:"URL of background image",defaultValue:"https://i.ibb.co/tLXrjb6/imageit.png"}).addBooleanSwitch({path:"forceImageRefresh",name:"Force image refresh",description:"Enable to force image refresh when data changes. Use only if cache control is not possible. Check readme on Github if not sure.",defaultValue:!1}).addBooleanSwitch({path:"lockSensors",name:"Lock sensors movement",defaultValue:!1,category:["Sensors"]}).addNumberInput({path:"sensorsTextSize",name:"Sensors text size",description:"Default sensors text size. Default 10.",defaultValue:10,category:["Sensors"]}).addCustomEditor({id:"sensors",path:"sensors",name:"Sensors",description:"List of sensors",category:["Sensors"],defaultValue:[],editor:function(e){return o.a.createElement(Ve,{sensors:e.value,onChange:e.onChange})}}).addCustomEditor({id:"mappings",path:"mappings",name:"Mappings",description:"List of mappings",category:["Mappings"],defaultValue:[],editor:function(e){return o.a.createElement($e,{mappings:e.value,onChange:e.onChange})}})}))}])}));
//# sourceMappingURL=module.js.map